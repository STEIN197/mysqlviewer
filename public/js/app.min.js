function DOMBuilder(){var t=[];this.tag=function(e,a,o){var r=document.createElement(e),c=i(a,o),l=n(a,o);if(c)for(var s in c)r.setAttribute(s,c[s]);if(l)if("function"==typeof l){var u=new DOMBuilder,d=l(u),f=u.getNodes();for(var p in f)r.appendChild(f[p]);null!=d&&r.append(d)}else if(l instanceof DOMBuilder){var h=l.getNodes();for(var p in h)r.appendChild(h[p])}else r.textContent=l;return t.push(r),this},this.getNodes=function(){return t},this.toString=function(){return e(t)};var e=function(t){var n="";for(var i in t){var a=t[i],o=a.tagName.toLowerCase(),r=a.attributes,c=[];for(i=0;i<r.length;i++)c.push(r[i].nodeName+'="'+r[i].value+'"');c.length&&(c=" "+c.join(" ")),n+="<"+o+c+">",a.children.length?n+=e(Array.prototype.slice.call(a.children)):n+=a.textContent,n+="</"+o+">"}return n},n=function(t,e){return t&&"object"!=typeof t?t:e&&"object"!=typeof e?e:null},i=function(t,e){return t&&"object"==typeof t?t:e&&"object"==typeof e?e:null}}function main(t){$("select[name='locale']").change(function(t){Api.Locale.change(this.value,function(){location.reload()})}),$(".js-split-pane").each(function(){Split($(this).children().toArray(),{gutterSize:6,sizes:[].slice.call(this.children).map(t=>+t.getAttribute("data-size"))})}),Accordion.init(),$(".js-create-column").click(async function(){let t=await axios.get("/api/create/column/",{params:{index:this.getAttribute("data-index")}});$(this).closest("table").find("tbody").append(t.data),this.setAttribute("data-index",+this.getAttribute("data-index")+1)}),$(".table-columns tbody").delegate("tr.new td:first-child a","click",function(){this.closest("tr").remove()}),$("body").css("opacity",1)}var Api={PREFIX:"api",makeUrl:function(t){var e="/"+Api.PREFIX+"/";return(t?e+t+"/":e).replace(/\/{2,}/g,"/")},Locale:{change:function(t,e){axios.get(Api.makeUrl(),{params:{locale:t}}).then(e)}},Sidebar:{onToggle:function(){}}};document.addEventListener("DOMContentLoaded",main);
